<!DOCTYPE html>
<html>

<head>
Weilet's Workshop - C 语言中的 extern&nbsp;关键字    <meta charset="utf-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta name="description" content="A blog of a programmer.">
    <meta name="keywords" content="code,game,digital products,daily life">
    <link rel="stylesheet" type="text/css" href="https://weilet.github.io/theme/css/style.css">
</head>

<body>
    <nav class="nav">
        <div class="nav-container">
            <div class="brand">
                <a href="https://weilet.github.io">Weilet's Blog</a>
            </div>
            <div class="links">
                <a class="main-nav-link" href="/archives/">归档</a>
                <a class="main-nav-link" href="/categories/">分类</a>
                <a class="main-nav-link" href="/tags/">标签</a>
                <a class="main-nav-link" href="/index.xml">订阅</a>
            </div>
        </div>
    </nav>
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://weilet.github.io/c-语言中的-extern-关键字" rel="bookmark"
         title="Permalink to C 语言中的 extern 关键字">C 语言中的 extern&nbsp;关键字</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2019-05-06T15:48:00+08:00">
      May 06, 2019
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="https://weilet.github.io/author/pwnforwhat.html">PwnForWhat</a>
    </address>
    <div class="category">
        Category: <a href="https://weilet.github.io/category/ccpp.html">C&amp;CPP</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <blockquote>
<p>如果不是选择重新学习&nbsp;C，我可能这辈子都不会碰到这个关键字</p>
</blockquote>
<p>extern&nbsp;用于声明一个外部变量，这个变量在项目的其他地方定义过。</p>
<p>假设有头文件&nbsp;errno.h</p>
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">errno</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>


<p>在 test.c&nbsp;中</p>
<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;errno.h&quot;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">extern</span> <span class="kt">int</span> <span class="n">errno</span><span class="p">;</span> <span class="c1">// 声明外部变量</span>
      <span class="n">errno</span> <span class="o">=</span> <span class="mi">33</span><span class="p">;</span> <span class="c1">// 可以对外部变量进一步操作</span>
      <span class="cm">/*</span>
<span class="cm">      一些操作</span>
<span class="cm">      */</span>
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>需要注意的点是，如果你使用不止一个外部变量，你应当保证它们的名字都不一样。（不要试图仅凭类型区分两个外部变量！！！）</p>
<p>在声明外部变量时，一般避免直接定义，即不要写成 <strong>extern int a = 0;</strong>&nbsp;的形式。</p>
<p>这样的变量不能进一步修改，不能循环利用，出于环保的缘故我们应当趋避之。</p>
  </div><!-- /.entry-content -->
</section>
    <footer class="footer container">
        <a class="main-nav-link" href="/blogroll/">友链</a>
        <a class="main-nav-link" href="/about/">关于</a>
    </footer>
</body>

</html>