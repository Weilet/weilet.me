Title: 两个下划线和Python的故事
Date: 2019-04-16 12:38
Author: PwnForWhat
Category: Tech
Tags: Python
Slug: 两个下划线和Python的故事
Status: published

> 从前，有两个孤独的下划线，走进了 Python 的世界

### 魔法方法

是的，他们不幸地进入了面向对象编程的世界，并成为了魔法方法中的一部分。

在 Python 的世界里面，有以下常见的魔法方法：

1\. \_\_init\_\_ 初始化对象时会被调用

2\. \_\_del\_\_ 对象释放时会被调用

3\. \_\_new\_\_ 对象被创建时会被调用；注意，创建的时机早于初始化

4\. \_\_str\_\_ 使用print()时会被调用

5\. \_\_len\_\_ 使用len()时会被调用

6\. \_\_call\_\_ 将对象当作函数使用时会被调用

7\. \_\_add\_\_, \_\_sub\_\_, \_\_mul\_\_, \_\_div\_\_ 加、减、乘、除时会被调用

8\. \_\_mod\_\_, \_\_pow\_\_ 取模、求幂时会被调用

9\. \_\_getitem\_\_, \_\_setitem\_\_, \_\_delitem\_\_ 取值、赋值、删除时调用

10\. \_\_iter\_\_ for循环遍历对象时会被调用

**\_\_repr\_\_** 与 \_\_str\_\_ 相似，网上的资料显示前者主要针对开发者，而后者则囊括所有人群

### 特殊成员

在面向对象的世界里面，他们有时也会变成特殊成员的一部分

1\. \_\_doc\_\_ 说明性文档

2\. \_\_author\_\_ 作者信息

3\. \_\_dict\_\_ 类或对象的所有成员，Python 自建

4\. \_\_slots\_\_ 定义允许修改的属性，该成员不会继承和被继承

5\. \_\_module\_\_ 当前对象所属模块

6\. \_\_class\_\_ 当前对象所属类

事实上，你可以通过在变量前添加两条孤独的下划线来使成员变为私有成员 。

### 内置变量

走出面向对象的世界，他们变成了内置变量的一部分

1\. \_\_file\_\_ 文件路径

2\. \_\_package\_\_ 获取导入文件的路径，多层目录以点分割，注意：对当前文件返回None

3\. \_\_cached\_\_ 获取导入文件的缓存路径

4\. \_\_name\_\_ 获取导入文件的路径加文件名称，路径以点分割，当前运行的文件为\_\_main\_\_

5\. \_\_builtins\_\_ 内置函数

就这样，这两个孤独的下划线，在 Python 的世界里，无端漫游。